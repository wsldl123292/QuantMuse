# Trading System Web Interface

ä¸€ä¸ªç°ä»£åŒ–çš„Webç®¡ç†ç•Œé¢ï¼Œä¸ºäº¤æ˜“ç³»ç»Ÿæä¾›ç”¨æˆ·å‹å¥½çš„æ“ä½œç•Œé¢ã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

### åç«¯ (Backend)
- **FastAPI** - é«˜æ€§èƒ½çš„Python Webæ¡†æ¶
- **Uvicorn** - ASGIæœåŠ¡å™¨
- **Pydantic** - æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–

### å‰ç«¯ (Frontend)
- **HTML5** - è¯­ä¹‰åŒ–æ ‡è®°
- **CSS3** - ç°ä»£åŒ–æ ·å¼
- **JavaScript (ES6+)** - äº¤äº’é€»è¾‘
- **Bootstrap 5** - å“åº”å¼UIæ¡†æ¶
- **Chart.js** - å›¾è¡¨åº“
- **Boxicons** - å›¾æ ‡åº“

## ğŸ“¦ å®‰è£…

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆåŒ…æ‹¬Webç•Œé¢ï¼‰
pip install -e .[web,ai,visualization]

# æˆ–è€…å•ç‹¬å®‰è£…Webä¾èµ–
pip install fastapi uvicorn jinja2 aiofiles
```

### 2. å¯åŠ¨Webç•Œé¢

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
python run_web_interface.py

# æ–¹æ³•2ï¼šç›´æ¥å¯åŠ¨FastAPIæœåŠ¡å™¨
uvicorn data_service.web.api_server:APIServer().app --host 0.0.0.0 --port 8000 --reload
```

### 3. è®¿é—®ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8000

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### ğŸ“Š ä»ªè¡¨æ¿ (Dashboard)
- **ç³»ç»ŸçŠ¶æ€ç›‘æ§** - å®æ—¶æ˜¾ç¤ºç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- **æ€§èƒ½æŒ‡æ ‡** - æ€»æ”¶ç›Šã€å¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤ç­‰
- **é£é™©æŒ‡æ ‡** - VaRã€CVaRã€Betaç­‰é£é™©æŒ‡æ ‡
- **æƒç›Šæ›²çº¿** - äº¤äº’å¼æ”¶ç›Šæ›²çº¿å›¾è¡¨
- **æŠ•èµ„ç»„åˆåˆ†é…** - é¥¼å›¾æ˜¾ç¤ºèµ„äº§é…ç½®
- **æœ€è¿‘æ´»åŠ¨** - å®æ—¶æ´»åŠ¨æ—¥å¿—
- **æœ€è¿‘äº¤æ˜“** - äº¤æ˜“è®°å½•è¡¨æ ¼

### ğŸ® ç­–ç•¥ç®¡ç† (Strategy Management)
- **ç­–ç•¥åˆ—è¡¨** - æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨ç­–ç•¥
- **ç­–ç•¥è¯¦æƒ…** - æŸ¥çœ‹ç­–ç•¥é…ç½®å’Œæ€§èƒ½
- **åˆ›å»ºç­–ç•¥** - é€šè¿‡è¡¨å•åˆ›å»ºæ–°ç­–ç•¥
- **å¯åŠ¨/åœæ­¢** - æ§åˆ¶ç­–ç•¥è¿è¡ŒçŠ¶æ€
- **ç­–ç•¥å›æµ‹** - è¿è¡Œç­–ç•¥å›æµ‹å¹¶æŸ¥çœ‹ç»“æœ

### ğŸ“ˆ å›æµ‹ç³»ç»Ÿ (Backtest)
- **å›æµ‹é…ç½®** - è®¾ç½®å›æµ‹å‚æ•°
- **ç­–ç•¥é€‰æ‹©** - é€‰æ‹©è¦å›æµ‹çš„ç­–ç•¥
- **æ—¶é—´èŒƒå›´** - è®¾ç½®å›æµ‹æ—¶é—´èŒƒå›´
- **ç»“æœå±•ç¤º** - æ˜¾ç¤ºå›æµ‹ç»“æœå’Œå›¾è¡¨

### ğŸ’¼ æŠ•èµ„ç»„åˆç®¡ç† (Portfolio)
- **æŒä»“ä¿¡æ¯** - æ˜¾ç¤ºå½“å‰æŒä»“
- **æŠ•èµ„ç»„åˆæ‘˜è¦** - æ€»ä»·å€¼ã€ç°é‡‘ã€å·²æŠ•èµ„é‡‘é¢
- **ç›ˆäºåˆ†æ** - æ¯æ—¥å’Œæ€»ç›ˆäº
- **æƒé‡åˆ†é…** - å„èµ„äº§æƒé‡

### ğŸ¤– AIåˆ†æ (AI Analysis)
- **æƒ…æ„Ÿåˆ†æ** - åˆ†ææ–‡æœ¬æƒ…æ„Ÿ
- **å¸‚åœºåˆ†æ** - AIé©±åŠ¨çš„å¸‚åœºåˆ†æ
- **å®æ—¶ç»“æœ** - å³æ—¶æ˜¾ç¤ºåˆ†æç»“æœ

## ğŸ”§ APIæ¥å£

### ç³»ç»ŸçŠ¶æ€
```http
GET /api/system/status
```

### ç­–ç•¥ç®¡ç†
```http
GET /api/strategies
POST /api/strategies
PUT /api/strategies/{id}
DELETE /api/strategies/{id}
POST /api/strategies/{id}/start
POST /api/strategies/{id}/stop
```

### å›æµ‹
```http
POST /api/backtest/run
```

### AIåˆ†æ
```http
POST /api/ai/analyze
```

### å¸‚åœºæ•°æ®
```http
GET /api/market/data/{symbol}
```

### æŠ•èµ„ç»„åˆ
```http
GET /api/portfolio/status
```

### äº¤æ˜“è®°å½•
```http
GET /api/trades/recent
```

## ğŸ¨ ç•Œé¢æˆªå›¾

### ä¸»ä»ªè¡¨æ¿
- ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆ
- æ€§èƒ½æŒ‡æ ‡å¡ç‰‡
- å®æ—¶å›¾è¡¨
- æ´»åŠ¨æ—¥å¿—

### ç­–ç•¥ç®¡ç†
- ç­–ç•¥å¡ç‰‡ç½‘æ ¼
- ç­–ç•¥è¯¦æƒ…æ¨¡æ€æ¡†
- å¯åŠ¨/åœæ­¢æ§åˆ¶

### å›æµ‹ç•Œé¢
- é…ç½®è¡¨å•
- ç»“æœå±•ç¤º
- æ€§èƒ½å›¾è¡¨

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **CORSæ”¯æŒ** - è·¨åŸŸè¯·æ±‚å¤„ç†
- **è¾“å…¥éªŒè¯** - Pydanticæ•°æ®éªŒè¯
- **é”™è¯¯å¤„ç†** - ç»Ÿä¸€çš„é”™è¯¯å“åº”
- **æ—¥å¿—è®°å½•** - å®Œæ•´çš„æ“ä½œæ—¥å¿—

## ğŸ“± å“åº”å¼è®¾è®¡

- **ç§»åŠ¨ç«¯é€‚é…** - æ”¯æŒæ‰‹æœºå’Œå¹³æ¿
- **æ¡Œé¢ç«¯ä¼˜åŒ–** - å¤§å±å¹•æ˜¾ç¤ºä¼˜åŒ–
- **è§¦æ‘¸å‹å¥½** - æ”¯æŒè§¦æ‘¸æ“ä½œ

## ğŸš€ éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
```bash
python run_web_interface.py
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# ä½¿ç”¨Gunicorn
gunicorn data_service.web.api_server:APIServer().app -w 4 -k uvicorn.workers.UvicornWorker

# ä½¿ç”¨Docker
docker build -t trading-system .
docker run -p 8000:8000 trading-system
```

### åå‘ä»£ç† (Nginx)
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡
```bash
export TRADING_SYSTEM_HOST=0.0.0.0
export TRADING_SYSTEM_PORT=8000
export TRADING_SYSTEM_DEBUG=true
```

### é…ç½®æ–‡ä»¶
åˆ›å»º `config.json`:
```json
{
    "web": {
        "host": "0.0.0.0",
        "port": 8000,
        "debug": false,
        "cors_origins": ["*"]
    },
    "trading": {
        "initial_capital": 100000,
        "commission_rate": 0.001
    }
}
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹ç«¯å£å ç”¨
   netstat -tulpn | grep 8000
   
   # æ€æ­»è¿›ç¨‹
   kill -9 <PID>
   ```

2. **ä¾èµ–ç¼ºå¤±**
   ```bash
   pip install -r requirements.txt
   ```

3. **æƒé™é—®é¢˜**
   ```bash
   # Linux/Mac
   chmod +x run_web_interface.py
   
   # Windows
   python run_web_interface.py
   ```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/trading_system.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error.log
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- å›¾è¡¨æ‡’åŠ è½½
- æ•°æ®ç¼“å­˜
- å‹ç¼©é™æ€èµ„æº

### åç«¯ä¼˜åŒ–
- æ•°æ®åº“è¿æ¥æ± 
- Redisç¼“å­˜
- å¼‚æ­¥å¤„ç†

## ğŸ”® æœªæ¥è®¡åˆ’

- [ ] å®æ—¶æ•°æ®æ¨é€ (WebSocket)
- [ ] ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç§»åŠ¨ç«¯åº”ç”¨
- [ ] é«˜çº§å›¾è¡¨åŠŸèƒ½
- [ ] ç­–ç•¥å›æµ‹å¯¹æ¯”
- [ ] é£é™©ç®¡ç†é¢æ¿
- [ ] æŠ¥å‘Šç”Ÿæˆå™¨

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æ–‡æ¡£
2. æ£€æŸ¥æ—¥å¿—
3. æäº¤Issue
4. è”ç³»å¼€å‘å›¢é˜Ÿ

---

**Trading System Web Interface** - è®©äº¤æ˜“ç³»ç»Ÿç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆï¼ ğŸš€ 